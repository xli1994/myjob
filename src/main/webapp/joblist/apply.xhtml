<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">


<h:head>

</h:head>

<h:body>
	<ui:composition template="../templates/job/publicCommon.xhtml">
		<!-- pass parameter -->
		<ui:param name="title" value="Apply Job" />

		<ui:define name="content">
			<div id="apply-job-form">


				<div class="wrapper">
					<h3>Application for #{applyFormBean.jobEntity.jobTitle}</h3>
					<p>
						<span class="caption">Location: </span>#{applyFormBean.jobEntity.location}
						&nbsp;&nbsp;&nbsp; <span class="caption">Job Type: </span>#{applyFormBean.jobEntity.jobType}
						&nbsp;&nbsp;&nbsp;
						<c:if
							test="#{applyFormBean.jobEntity.jobType ne 'Full Time' and (not empty applyFormBean.jobEntity.contractDuration)}">
							<span class="caption">Duration: </span>#{applyFormBean.jobEntity.contractDuration}
						</c:if>
					</p>
				</div>

				<h:form id="applicationForm" enctype="multipart/form-data">
					<!-- store jobId : no need
					<h:inputHidden id="jobId" value="#{applyFormBean.jobEntity.jobId}" />
					-->

					<div class="wrapper">
						<h:outputLabel for="firstName" value="First Name: "
							styleClass="required caption" />
						<h:inputText id="firstName" size="20" maxlength="30"
							styleClass="content"
							validatorMessage="First Name is required"
							required="true" requiredMessage="First Name is required"
							value="#{applyFormBean.appEntity.firstName}">
							<f:validateLength minimum="2" maximum="30" />
						</h:inputText>
						&nbsp;
						<h:message for="firstName" styleClass="requiredMsg" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="lastName" value="Last Name: "
							styleClass="required caption" />
						<h:inputText id="lastName" size="20" maxlength="30"
							styleClass="content"
							validatorMessage="Last Name is required"
							required="true" requiredMessage="Last Name is required"
							value="#{applyFormBean.appEntity.lastName}">
							<f:validateLength minimum="2" maximum="30" />
						</h:inputText>
						&nbsp;
						<h:message for="lastName" styleClass="requiredMsg" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="email" value="Email: " styleClass="required caption" />
						<h:inputText id="email" size="20" maxlength="100"
							styleClass="content"
							required="true" requiredMessage="Email is required"
							value="#{applyFormBean.appEntity.email}">
							<f:validator validatorId="emailValidator" />
						</h:inputText>
						&nbsp;
						<h:message for="email" styleClass="requiredMsg" />
					</div>

					<div class="wrapper">
						<span class="caption">Optional Information:</span>
					</div>

					<div class="wrapper">
						<h:outputLabel for="address" value="Address: " />
						<h:inputText id="address" size="20" maxlength="100"
							styleClass="content" value="#{applyFormBean.appEntity.address}">
							<f:validateLength maximum="100" />
						</h:inputText>
						&nbsp;
						<h:message for="address" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="city" value="City: " />
						<h:inputText id="city" size="20" maxlength="50"
							styleClass="content" value="#{applyFormBean.appEntity.city}">
							<f:validateLength maximum="50" />
						</h:inputText>
						&nbsp;
						<h:message for="city" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="state" value="State: " />
						<h:selectOneMenu id="state"
							value="#{applyFormBean.appEntity.state}">

							<f:selectItem itemValue="None" itemLabel="Please select one" />

							<f:selectItems value="#{applyFormBean.stateCodeList}" var="sta"
								itemLabel="#{sta.stateName}" itemValue="#{sta.stateCode}" />

							<f:selectItem itemValue="OTHER" itemLabel="OTHER" />
						</h:selectOneMenu>
						<h:message for="state" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="country" value="Country: " />
						<h:inputText id="country" size="20" maxlength="50"
							styleClass="content" value="#{applyFormBean.appEntity.country}">
							<f:validateLength maximum="50" />
						</h:inputText>
						&nbsp;
						<h:message for="country" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="zipcode" value="Zip: " />
						<h:inputText id="zipcode" size="20" maxlength="10"
							styleClass="content" value="#{applyFormBean.appEntity.zipcode}">
							<f:validateLength maximum="10" />
						</h:inputText>
						&nbsp;
						<h:message for="zipcode" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="phone" value="Phone " />
						<h:inputText id="phone" size="20" maxlength="20"
							styleClass="content" value="#{applyFormBean.appEntity.phone}">
							<f:validateLength maximum="20" />
						</h:inputText>
						&nbsp;
						<h:message for="phone" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="cellPhone" value="Cell Phone " />
						<h:inputText id="cellPhone" size="20" maxlength="20"
							styleClass="content" value="#{applyFormBean.appEntity.cellPhone}">
							<f:validateLength maximum="20" />
						</h:inputText>
						&nbsp;
						<h:message for="cellPhone" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="website"
							value="Website or blog we should visit: " style="vertical-align: top" />
						<h:inputText id="website" size="20" maxlength="150"
							styleClass="content" value="#{applyFormBean.appEntity.website}">
							<f:validateLength maximum="150" />
						</h:inputText>
						&nbsp;
						<h:message for="website" style="color:red" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="workStatus" value="Work Status: " />
						<h:selectOneMenu id="workStatus" styleClass="content"
							value="#{applyFormBean.appEntity.workStatus}">

							<f:selectItem itemValue="" itemLabel="Please select one" />

							<f:selectItems value="#{applyFormBean.workStatusEnums}"
								var="work" itemLabel="#{work.desc}" itemValue="#{work.desc}" />
						</h:selectOneMenu>
						<h:message for="workStatus" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="gender" value="Gender: " />
						<h:selectOneMenu id="gender" styleClass="content" 
							value="#{applyFormBean.appEntity.gender}">

							<f:selectItem itemValue="" itemLabel="Please select one" />

							<f:selectItems value="#{applyFormBean.genderEnums}" var="gen"
								itemLabel="#{gen.desc}" itemValue="#{gen.desc}" />
						</h:selectOneMenu>
						<h:message for="gender" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="race" value="Race: " />
						<h:selectOneMenu id="race" value="#{applyFormBean.appEntity.race}" styleClass="content">
							<f:selectItem itemValue="" itemLabel="Please select one" />

							<f:selectItems value="#{applyFormBean.raceEnums}" var="rac"
								itemLabel="#{rac.desc}" itemValue="#{rac.desc}" />
						</h:selectOneMenu>
						<h:message for="race" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="veteranStatus" value="Veteran Status: " />
						<h:selectOneMenu id="veteranStatus" styleClass="content"
							value="#{applyFormBean.appEntity.veteranStatus}">

							<f:selectItem itemValue="" itemLabel="Please select one" />

							<f:selectItems value="#{applyFormBean.veteranStatusEnums}"
								var="vet" itemLabel="#{vet.desc}" itemValue="#{vet.desc}" />
						</h:selectOneMenu>
						<h:message for="veteranStatus" />
					</div>

					<div class="wrapper">
						<h:outputLabel for="resume" value="Upload Resume: (text, pdf or word file, size limit is 2MB)" 
						styleClass="required caption" style="vertical-align: top"/>
						<h:inputFile id="resume"  value="#{applyFormBean.resume}" styleClass="uploadfile" 
							required="true" requiredMessage="Please upload your resume">
							<!-- FileUploadValidator for file validation -->
							<f:validator validatorId="uploadFileValidator" />

						</h:inputFile>
						&nbsp;
						<h:message for="resume" styleClass="requiredMsg" />
					</div>


					<div class="wrapper" >
						<h:outputLabel for="coverLetter" style="vertical-align: top" value="Cover Letter: (Maximum length is 500)" />
						
						<h:inputTextarea rows="8" cols="52" id="coverLetter"
							maxlength="500" styleClass="coverletter"
							validatorMessage="Maximum length is 500 characters"
							value="#{applyFormBean.appEntity.coverLetter}">
							<f:validateLength maximum="500" />
						</h:inputTextarea>
						
						 <label style="vertical-align:top; ">&nbsp;
							<h:message for="coverLetter"  style="color:red; vertical-align: top; display:inine;"/>
						</label>
					</div>




					<br />

					<h:link value="View Job" outcome="viewjob"
						style="margin-left:195px" styleClass="btn btn-info">
						<f:param name="jobId" value="#{applyFormBean.jobEntity.jobId}" />
					</h:link>

						&nbsp;&nbsp;
						<h:link value="View All Jobs" outcome="currentjoblist"
						styleClass="btn btn-primary">

						</h:link>

						&nbsp;&nbsp;
						<h:commandButton value="Submit Application"
						styleClass="btn btn-success" action="#{applyFormBean.submit}"
						update="grid">
						<f:param name="jobId" value="#{applyFormBean.jobEntity.jobId}" />
						</h:commandButton>
				</h:form>
			</div>
		</ui:define>
	</ui:composition>


</h:body>
</html>